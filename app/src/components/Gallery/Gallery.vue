<template>
  <div  class="gallery" v-for="(image) in images">
    <div @click="project(item.id)" :class="['image-' + (index+1), 'border']" v-for="(item, index) in image" :key="index">
      <div @click="like" class="button">
          <svg width="21" height="18" viewBox="0 0 21 18" fill="black" xmlns="http://www.w3.org/2000/svg">
              <mask id="path-1-inside-1_83_29" fill="white">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M2.21748 2.67974C0.200218 4.69701 0.0546293 7.92722 1.95719 10.053C2.86141 11.0633 3.81161 12.0939 4.61074 12.8923C5.86816 14.1486 7.54809 15.6289 8.83069 16.7276L9.15259 17.0495C9.54626 17.4432 10.0663 17.6406 10.5849 17.6332C11.1035 17.6406 11.6236 17.4432 12.0172 17.0495L12.3391 16.7276C13.6217 15.6289 15.3017 14.1486 16.5591 12.8923C17.3582 12.0939 18.3084 11.0633 19.2126 10.053C21.1152 7.92722 20.9696 4.69701 18.9524 2.67974L18.6288 2.35615C16.4809 0.20827 12.9985 0.20827 10.8506 2.35615L10.5849 2.62182L10.3192 2.35615C8.17136 0.20827 4.68896 0.20827 2.54107 2.35615L2.21748 2.67974Z"/>
              </mask>
              <path d="M1.95719 10.053L0.46689 11.3868L0.46689 11.3868L1.95719 10.053ZM2.21748 2.67974L3.6317 4.09396L2.21748 2.67974ZM4.61074 12.8923L6.0243 11.4775L6.0243 11.4775L4.61074 12.8923ZM8.83069 16.7276L10.2449 15.3134L10.1904 15.2589L10.1318 15.2087L8.83069 16.7276ZM9.15259 17.0495L10.5668 15.6353L10.5668 15.6353L9.15259 17.0495ZM10.5849 17.6332L10.6134 15.6334L10.5849 15.633L10.5564 15.6334L10.5849 17.6332ZM12.0172 17.0495L10.603 15.6353L10.603 15.6353L12.0172 17.0495ZM12.3391 16.7276L11.038 15.2087L10.9795 15.2589L10.9249 15.3134L12.3391 16.7276ZM16.5591 12.8923L15.1455 11.4775L15.1455 11.4775L16.5591 12.8923ZM19.2126 10.053L17.7223 8.71921L17.7223 8.71921L19.2126 10.053ZM18.9524 2.67974L20.3666 1.26553L20.3666 1.26553L18.9524 2.67974ZM18.6288 2.35615L17.2145 3.77037L17.2145 3.77037L18.6288 2.35615ZM10.8506 2.35615L9.43637 0.94194L9.43637 0.941942L10.8506 2.35615ZM10.5849 2.62182L9.1707 4.03604L10.5849 5.45025L11.9991 4.03604L10.5849 2.62182ZM10.3192 2.35615L8.90503 3.77037L8.90503 3.77037L10.3192 2.35615ZM2.54107 2.35615L3.95529 3.77037L3.95529 3.77037L2.54107 2.35615ZM3.44748 8.71921C2.27865 7.41323 2.33746 5.38819 3.6317 4.09396L0.80327 1.26553C-1.93702 4.00582 -2.16939 8.44121 0.46689 11.3868L3.44748 8.71921ZM6.0243 11.4775C5.26463 10.7185 4.34351 9.72037 3.44748 8.71921L0.46689 11.3868C1.37931 12.4063 2.35858 13.4694 3.19719 14.3072L6.0243 11.4775ZM10.1318 15.2087C8.85645 14.1162 7.22486 12.6769 6.0243 11.4775L3.19719 14.3072C4.51145 15.6202 6.23974 17.1416 7.52958 18.2465L10.1318 15.2087ZM7.41648 18.1418L7.73838 18.4637L10.5668 15.6353L10.2449 15.3134L7.41648 18.1418ZM7.73838 18.4637C8.52433 19.2497 9.56918 19.6479 10.6134 19.633L10.5564 15.6334C10.5599 15.6333 10.5625 15.6339 10.5648 15.6348C10.5661 15.6353 10.5672 15.636 10.568 15.6365C10.5688 15.637 10.5684 15.6369 10.5668 15.6353L7.73838 18.4637ZM10.603 15.6353C10.6014 15.6369 10.601 15.637 10.6019 15.6365C10.6026 15.636 10.6038 15.6353 10.6051 15.6348C10.6074 15.6339 10.6099 15.6333 10.6134 15.6334L10.5564 19.633C11.6007 19.6479 12.6455 19.2497 13.4315 18.4637L10.603 15.6353ZM10.9249 15.3134L10.603 15.6353L13.4315 18.4637L13.7534 18.1418L10.9249 15.3134ZM13.6403 18.2465C14.9301 17.1416 16.6584 15.6202 17.9726 14.3072L15.1455 11.4775C13.945 12.6769 12.3134 14.1162 11.038 15.2087L13.6403 18.2465ZM17.9726 14.3072C18.8113 13.4694 19.7905 12.4063 20.7029 11.3868L17.7223 8.71921C16.8263 9.72037 15.9052 10.7185 15.1455 11.4775L17.9726 14.3072ZM20.7029 11.3868C23.3392 8.44121 23.1069 4.00582 20.3666 1.26553L17.5381 4.09396C18.8324 5.38819 18.8912 7.41323 17.7223 8.71921L20.7029 11.3868ZM20.3666 1.26553L20.043 0.941939L17.2145 3.77037L17.5381 4.09396L20.3666 1.26553ZM20.043 0.94194C17.114 -1.98699 12.3653 -1.98699 9.43637 0.94194L12.2648 3.77037C13.6316 2.40353 15.8477 2.40353 17.2145 3.77037L20.043 0.94194ZM9.43637 0.941942L9.1707 1.20761L11.9991 4.03604L12.2648 3.77037L9.43637 0.941942ZM8.90503 3.77037L9.1707 4.03604L11.9991 1.20761L11.7335 0.941939L8.90503 3.77037ZM3.95529 3.77037C5.32212 2.40353 7.5382 2.40353 8.90503 3.77037L11.7335 0.94194C8.80453 -1.98699 4.05579 -1.98699 1.12686 0.94194L3.95529 3.77037ZM3.6317 4.09396L3.95529 3.77037L1.12686 0.94194L0.80327 1.26553L3.6317 4.09396Z" mask="url(#path-1-inside-1_83_29)"/>
          </svg>
          <!--      <svg width="21" height="18" viewBox="0 0 21 18" fill="black" xmlns="http://www.w3.org/2000/svg">-->
          <!--        <path fill-rule="evenodd" clip-rule="evenodd" d="M2.03517 2.67974C0.0179076 4.69701 -0.127684 7.92722 1.77487 10.053C2.67909 11.0633 3.6293 12.0939 4.42843 12.8923C5.68584 14.1486 7.36575 15.6289 8.64835 16.7276L8.97028 17.0495C9.36395 17.4432 9.88393 17.6406 10.4025 17.6332C10.9212 17.6406 11.4413 17.4432 11.8349 17.0495L12.1569 16.7276C13.4395 15.6289 15.1194 14.1486 16.3768 12.8923C17.1759 12.0939 18.1261 11.0633 19.0303 10.053C20.9329 7.92722 20.7873 4.69701 18.77 2.67974L18.4464 2.35616C16.2986 0.208267 12.8162 0.208267 10.6683 2.35616L10.4026 2.62183L10.1369 2.35616C7.98905 0.208267 4.50665 0.208267 2.35876 2.35616L2.03517 2.67974Z"/>-->
          <!--      </svg>-->
      </div>
      <img :src="url + item.smallImage" alt="">
      <div class="shadow"></div>
    </div>
  </div>
  <div :class="['gallery-' + imagesNext[0].length]" v-for="image in imagesNext">
    <div @click="project(item.id)" :class="['image-' + (index+1), 'border']" v-for="(item, index) in image" :key="index">
        <div @click="like" class="button">
            <svg width="21" height="18" viewBox="0 0 21 18" fill="black" xmlns="http://www.w3.org/2000/svg">
                <mask id="path-1-inside-1_83_29" fill="white">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M2.21748 2.67974C0.200218 4.69701 0.0546293 7.92722 1.95719 10.053C2.86141 11.0633 3.81161 12.0939 4.61074 12.8923C5.86816 14.1486 7.54809 15.6289 8.83069 16.7276L9.15259 17.0495C9.54626 17.4432 10.0663 17.6406 10.5849 17.6332C11.1035 17.6406 11.6236 17.4432 12.0172 17.0495L12.3391 16.7276C13.6217 15.6289 15.3017 14.1486 16.5591 12.8923C17.3582 12.0939 18.3084 11.0633 19.2126 10.053C21.1152 7.92722 20.9696 4.69701 18.9524 2.67974L18.6288 2.35615C16.4809 0.20827 12.9985 0.20827 10.8506 2.35615L10.5849 2.62182L10.3192 2.35615C8.17136 0.20827 4.68896 0.20827 2.54107 2.35615L2.21748 2.67974Z"/>
                </mask>
                <path d="M1.95719 10.053L0.46689 11.3868L0.46689 11.3868L1.95719 10.053ZM2.21748 2.67974L3.6317 4.09396L2.21748 2.67974ZM4.61074 12.8923L6.0243 11.4775L6.0243 11.4775L4.61074 12.8923ZM8.83069 16.7276L10.2449 15.3134L10.1904 15.2589L10.1318 15.2087L8.83069 16.7276ZM9.15259 17.0495L10.5668 15.6353L10.5668 15.6353L9.15259 17.0495ZM10.5849 17.6332L10.6134 15.6334L10.5849 15.633L10.5564 15.6334L10.5849 17.6332ZM12.0172 17.0495L10.603 15.6353L10.603 15.6353L12.0172 17.0495ZM12.3391 16.7276L11.038 15.2087L10.9795 15.2589L10.9249 15.3134L12.3391 16.7276ZM16.5591 12.8923L15.1455 11.4775L15.1455 11.4775L16.5591 12.8923ZM19.2126 10.053L17.7223 8.71921L17.7223 8.71921L19.2126 10.053ZM18.9524 2.67974L20.3666 1.26553L20.3666 1.26553L18.9524 2.67974ZM18.6288 2.35615L17.2145 3.77037L17.2145 3.77037L18.6288 2.35615ZM10.8506 2.35615L9.43637 0.94194L9.43637 0.941942L10.8506 2.35615ZM10.5849 2.62182L9.1707 4.03604L10.5849 5.45025L11.9991 4.03604L10.5849 2.62182ZM10.3192 2.35615L8.90503 3.77037L8.90503 3.77037L10.3192 2.35615ZM2.54107 2.35615L3.95529 3.77037L3.95529 3.77037L2.54107 2.35615ZM3.44748 8.71921C2.27865 7.41323 2.33746 5.38819 3.6317 4.09396L0.80327 1.26553C-1.93702 4.00582 -2.16939 8.44121 0.46689 11.3868L3.44748 8.71921ZM6.0243 11.4775C5.26463 10.7185 4.34351 9.72037 3.44748 8.71921L0.46689 11.3868C1.37931 12.4063 2.35858 13.4694 3.19719 14.3072L6.0243 11.4775ZM10.1318 15.2087C8.85645 14.1162 7.22486 12.6769 6.0243 11.4775L3.19719 14.3072C4.51145 15.6202 6.23974 17.1416 7.52958 18.2465L10.1318 15.2087ZM7.41648 18.1418L7.73838 18.4637L10.5668 15.6353L10.2449 15.3134L7.41648 18.1418ZM7.73838 18.4637C8.52433 19.2497 9.56918 19.6479 10.6134 19.633L10.5564 15.6334C10.5599 15.6333 10.5625 15.6339 10.5648 15.6348C10.5661 15.6353 10.5672 15.636 10.568 15.6365C10.5688 15.637 10.5684 15.6369 10.5668 15.6353L7.73838 18.4637ZM10.603 15.6353C10.6014 15.6369 10.601 15.637 10.6019 15.6365C10.6026 15.636 10.6038 15.6353 10.6051 15.6348C10.6074 15.6339 10.6099 15.6333 10.6134 15.6334L10.5564 19.633C11.6007 19.6479 12.6455 19.2497 13.4315 18.4637L10.603 15.6353ZM10.9249 15.3134L10.603 15.6353L13.4315 18.4637L13.7534 18.1418L10.9249 15.3134ZM13.6403 18.2465C14.9301 17.1416 16.6584 15.6202 17.9726 14.3072L15.1455 11.4775C13.945 12.6769 12.3134 14.1162 11.038 15.2087L13.6403 18.2465ZM17.9726 14.3072C18.8113 13.4694 19.7905 12.4063 20.7029 11.3868L17.7223 8.71921C16.8263 9.72037 15.9052 10.7185 15.1455 11.4775L17.9726 14.3072ZM20.7029 11.3868C23.3392 8.44121 23.1069 4.00582 20.3666 1.26553L17.5381 4.09396C18.8324 5.38819 18.8912 7.41323 17.7223 8.71921L20.7029 11.3868ZM20.3666 1.26553L20.043 0.941939L17.2145 3.77037L17.5381 4.09396L20.3666 1.26553ZM20.043 0.94194C17.114 -1.98699 12.3653 -1.98699 9.43637 0.94194L12.2648 3.77037C13.6316 2.40353 15.8477 2.40353 17.2145 3.77037L20.043 0.94194ZM9.43637 0.941942L9.1707 1.20761L11.9991 4.03604L12.2648 3.77037L9.43637 0.941942ZM8.90503 3.77037L9.1707 4.03604L11.9991 1.20761L11.7335 0.941939L8.90503 3.77037ZM3.95529 3.77037C5.32212 2.40353 7.5382 2.40353 8.90503 3.77037L11.7335 0.94194C8.80453 -1.98699 4.05579 -1.98699 1.12686 0.94194L3.95529 3.77037ZM3.6317 4.09396L3.95529 3.77037L1.12686 0.94194L0.80327 1.26553L3.6317 4.09396Z" mask="url(#path-1-inside-1_83_29)"/>
            </svg>
        </div>
      <img :src="url + item.smallImage" alt="">
      <div class="shadow"></div>
    </div>
  </div>
</template>

<script>
import router from "@/router";
import axios from "axios";
import { routeLocationKey } from "vue-router";

export default {
  name: 'Gallery',
  data() {
    return {
      images: [],
      imagesNext: [],
      testLike: false,
      url: process.env.VUE_APP_URL,
    }
  },
  created() {  
  },
  async mounted() {
    let arr = [];
    await axios.get(this.url + '/projects', {
      headers: {
        token: localStorage.getItem('token')
      }
    }).then(response => {
      arr = response.data;
      let token = response.headers.token;
      localStorage.setItem('token', token);
    }).catch(error => {
      console.log(error);
    })
    while (arr.length > 5) {
      this.images.push(arr.splice(0, 6));
    }
    this.imagesNext.push(arr.splice(0, 6));
  },
  methods: {
    project(id) {
      if (!this.testLike) {
        router.push({path: '/project/' + id});
      }
      this.testLike = false;
    },
    like() {
      this.testLike = true;
      console.log('like one');
    },

  },
}
</script>

<style lang="scss" scoped>
@import "style";
</style>